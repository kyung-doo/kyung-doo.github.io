{"version":3,"sources":["stores/study/reducer.ts","stores/study/index.ts","layouts/StudyLayout.tsx","componens/study/AudioButton.tsx","assets/images/study sync /^/.*/.png$","assets/images/study/common sync /^/restart_.*/.png$","assets/images/study/common sync /^/game_.*/.png$","componens/study/Draggable.tsx"],"names":["StudyStatus","StudyActions","InitialState","status","INIT","stage","currentPage","activeIndex","clearPages","totalPage","studyData","Reducer","state","action","type","payload","SET_CURRENT_PAGE","SET_ACTIVE_INDEX","CHANGE_STATUS","SET_CLEAR_PAGE","RESTART","reStudy","store","middlewares","thunk","createStore","applyMiddleware","gsap","registerPlugin","Draggable","MotionPathPlugin","StudyLayout","title","studyElem","showGameBtn","dispatch","useDispatch","useSelector","introRef","useRef","studyRef","listConRef","listRef","resultRef","clickAudio","goodJobAudio","clapAudio","prevPage","indexAr","onClickStart","useCallback","e","current","play","addClass","querySelector","parentElement","Array","from","map","x","i","makeRandom","removeClass","getIndex","setTimeout","START","onIntroExit","to","opacity","ease","Cubic","easeInOut","titleBar","textCon","pageCon","force3D","height","y","onIntroExited","STUDY_START","onPrevPage","STUDY_TRANSITION","onNextPage","path","window","isTestAPI","t","toLowerCase","http","get","params","fu_id","play_type","then","data","console","log","RESULT","onResultEnter","deco","circle","charactor","star1","star2","star3","set","scaleX","scaleY","rotation","btn2","btn","delay","Back","easeOut","config","onComplete","style","transform","willChange","scale","repeat","yoyo","Linear","easeNone","onClickRestudy","killTweensOf","onClickGame","getContentX","idx","innerWidth","findIdx","length","onResize","wrap","document","left","parseInt","width","forEach","list","introBg","studyBg","resultBg","onVisibleChange","hidden","sound","pauseAll","resumeAll","onExitApp","self","close","useEffect","Power2","STUDY_END","find","addEventListener","removeEventListener","useLayoutEffect","Sound","url","require","default","preload","getCookie","langCode","READY","contentWidth","contentHeight","id","nodeRef","in","timeout","exit","appear","unmountOnExit","onExit","onExited","ref","className","dangerouslySetInnerHTML","__html","stageTitle","color","during","onClick","src","li","el","onEnter","AudioButton","forwardRef","disabled","top","onBeforeClick","onAfterClick","useState","isPlay","setIsPlay","audio","undefined","onBtnClick","useImperativeHandle","stop","destroy","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports","areaAr","dragAr","areaElm","dragElm","onDragStart","onCorrect","onWrong","padding","dragContainer","dragItems","dragAreas","draggables","checkHitArea","draggable","dragItem","areaItem","getComputedStyle","hitTest","dataset","correct","returnDrag","traget","dist","distance","draggble","enable","GSAPDraggable","create","bounds","elementIndex","this","target","filter","disable","onDrag","hitArea","area","onDragEnd","drag","kill"],"mappings":"mOACYA,EAWAC,E,0BAXAD,K,YAAAA,E,cAAAA,E,cAAAA,E,0BAAAA,E,sBAAAA,E,oCAAAA,E,gBAAAA,E,mBAAAA,M,cAWAC,K,YAAAA,E,8BAAAA,E,oCAAAA,E,oCAAAA,E,gCAAAA,E,mBAAAA,M,KAwBL,IAAMC,EAAe,CACzBC,OAAQH,EAAYI,KACpBC,MAAO,EACPC,YAAa,EACbC,YAAa,EACbC,WAAY,GACZC,UAAW,EACXC,UAAW,MAGDC,EAAU,WAA8D,IAA5DC,EAA2D,uDAAvCV,EAAcW,EAAyB,uCACjF,OAAQA,EAAOC,MACZ,KAAKb,EAAaG,KACf,OAAO,2BAAIQ,GAAUC,EAAOE,SAC/B,KAAKd,EAAae,iBACf,OAAO,2BAAIJ,GAAX,IAAkBN,YAAaO,EAAOE,UACzC,KAAKd,EAAagB,iBACf,OAAO,2BAAIL,GAAX,IAAkBL,YAAaM,EAAOE,UACzC,KAAKd,EAAaiB,cACf,OAAO,2BAAIN,GAAX,IAAkBT,OAAQU,EAAOE,UACpC,KAAKd,EAAakB,eACf,OAAO,2BAAIP,GAAX,IAAkBJ,WAAW,GAAD,mBAAMI,EAAMJ,YAAZ,CAAwBK,EAAOE,YAC9D,KAAKd,EAAamB,QACf,OAAO,2BACDR,GADN,IAEGT,OAAQH,EAAYoB,QACpBd,YAAa,EACbI,UAAU,2BAAME,EAAMF,WAAb,IAAwBW,SAAS,MAEhD,QACG,OAAOT,EAEf,C,mCCpED,IAWIU,EAXJ,0BAKMC,EAAc,CAACC,KAYlBF,EAAQG,sBAAYd,IAASe,kBAAe,WAAf,EAAmBH,IAGpCD,K,mCCpBf,uHAeAK,IAAKC,eAAeC,KACpBF,IAAKC,eAAeE,KAwfLC,IAlegB,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,MAAO3B,EAA0C,EAA1CA,MAAOS,EAAmC,EAAnCA,KAAMmB,EAA6B,EAA7BA,UAAWC,EAAkB,EAAlBA,YAExDC,EAAWC,cACX1B,EAAiB2B,aAAiB,SAAAzB,GAAK,OAAIA,EAAMF,SAAV,IACvCP,EAAckC,aAAiB,SAAAzB,GAAK,OAAIA,EAAMT,MAAV,IACpCG,EAAmB+B,aAAiB,SAAAzB,GAAK,OAAIA,EAAMN,WAAV,IACzCG,EAAiB4B,aAAiB,SAAAzB,GAAK,OAAIA,EAAMH,SAAV,IACvCD,EAAkB6B,aAAiB,SAAAzB,GAAK,OAAIA,EAAMJ,UAAV,IAExC8B,EAAWC,iBAAuB,MAClCC,EAAWD,iBAAuB,MAClCE,EAAaF,iBAAuB,MACpCG,EAAUH,iBAA8B,IACxCI,EAAYJ,iBAAuB,MACnCK,EAAaL,mBACbM,EAAeN,mBACfO,EAAYP,mBACZQ,EAAWR,iBAAe,GAC1BS,EAAUT,iBAAiB,IAI3BU,EAAeC,uBAAY,SAAEC,GAAQ,IAAD,IACvCP,EAAWQ,QAASC,OACpBC,YAAQ,UAAChB,EAASc,eAAV,iBAAC,EAAkBG,cAAc,qBAAjC,aAAC,EAA+CC,cAAe,WAE9C,IAAtB9C,EAAUW,QACV2B,EAAQI,QAAUK,MAAMC,KAAKD,MAAMhD,IAAYkD,KAAI,SAACC,EAAEC,GAAH,OAASA,CAAT,IAEnDb,EAAQI,QAAUU,YAAWrD,EAAWA,GAG3CsD,YAAYrB,EAAQU,QAAQY,EAAS,IAAK,UAC1C7B,EAAS,CAAErB,KAAMb,IAAagB,iBAAkBF,QAASiD,EAAS1D,EAAc,KAChF2D,YAAW,WACR9B,EAAS,CAAErB,KAAMb,IAAaiB,cAAeH,QAASf,IAAYkE,OACpE,GAAC,IACJ,GAAE,CAACzD,IAEE0D,EAAcjB,uBAAY,WAC7BvB,IAAKyC,GAAG9B,EAASc,QAAS,GAAK,CAACiB,QAAS,EAAGC,KAAMC,IAAMC,YACxDP,YAAW,WACR,IAAMQ,EAAWjC,EAASY,QAASG,cAAc,cAC3CmB,EAAUD,EAAUlB,cAAc,aAClCoB,EAAUF,EAAUlB,cAAc,aACxC5B,IAAKyC,GAAGK,EAAU,GAAK,CAACG,SAAS,EAAMC,OAAQ,GAAIP,KAAMC,IAAMC,YAC/D7C,IAAK+B,KAAKgB,EAAS,GAAK,CAACE,SAAS,EAAME,EAAG,GAAIR,KAAMC,IAAMC,YAC3D7C,IAAK+B,KAAKiB,EAAS,GAAK,CAACC,SAAS,EAAME,EAAG,GAAIR,KAAMC,IAAMC,WAC7D,GAAE,IACL,GAAE,IAEGO,EAAgB7B,uBAAY,WAC/Bf,EAAS,CACNrB,KAAMb,IAAaiB,cACnBH,QAASf,IAAYgF,aAE1B,GAAE,IAEGC,EAAa/B,uBAAY,SAAEC,GAC3B7C,EAAc,IACdsC,EAAWQ,QAASC,OACpBY,YAAW,WACR9B,EAAS,CAAErB,KAAMb,IAAae,iBAAkBD,QAAST,EAAc,IACvE6B,EAAS,CAAErB,KAAMb,IAAagB,iBAAkBF,QAASiD,EAAS1D,EAAc,KAChF6B,EAAS,CAAErB,KAAMb,IAAaiB,cAAeH,QAASf,IAAYkF,kBACpE,IAEN,GAAC,CAAC5E,EAAaG,IAEV0E,EAAajC,uBAAY,SAAEC,GAC9B,GAAG7C,EAAcG,EACdmC,EAAWQ,QAASC,OACpBY,YAAW,WACR9B,EAAS,CAAErB,KAAMb,IAAae,iBAAkBD,QAAST,EAAc,IACvE6B,EAAS,CAAErB,KAAMb,IAAagB,iBAAkBF,QAASiD,EAAS1D,KAClE6B,EAAS,CAAErB,KAAMb,IAAaiB,cAAeH,QAASf,IAAYkF,kBACpE,QACG,CACJ,IAAIE,EAAO,GACX,GAAIC,OAAOC,UACRF,EAAI,gBAAYtE,EAAZ,gBAEF,CACF,IAAIyE,EAAIzE,EAAK0E,cACJ,UAAND,IAAeA,EAAI,QACtBH,EAAI,gBAAYG,EAAZ,WACN,CACwB,IAAtB7E,EAAUW,SACVgE,OAAOI,KACNC,IAAIN,EAAM,CAAEO,OAAQ,CAACC,MAAOlF,EAAUkF,MAAOC,UAAW,IAAKxF,MAAOA,KACpEyF,MAAK,SAACC,GAAD,OAAUC,QAAQC,IAAIF,EAAtB,IAET5D,EAAS,CAAErB,KAAMb,IAAaiB,cAAeH,QAASf,IAAYkG,QACpE,CACH,GAAC,CAAC5F,EAAaG,IAGV0F,EAAgBjD,uBAAY,WAAO,IAAD,gBAC/BlB,EAAK,UAAGW,EAAUS,eAAb,aAAG,EAAmBG,cAAc,aACzC6C,EAAI,UAAGzD,EAAUS,eAAb,aAAG,EAAmBG,cAAc,SACxC8C,EAAM,UAAG1D,EAAUS,eAAb,aAAG,EAAmBG,cAAc,WAC1C+C,EAAS,UAAG3D,EAAUS,eAAb,aAAG,EAAmBG,cAAc,cAC7CgD,EAAK,UAAG5D,EAAUS,eAAb,aAAG,EAAmBG,cAAc,UACzCiD,EAAK,UAAG7D,EAAUS,eAAb,aAAG,EAAmBG,cAAc,UACzCkD,EAAK,UAAG9D,EAAUS,eAAb,aAAG,EAAmBG,cAAc,UAG/CQ,YAAY/B,EAAO,UACnB+B,YAAYqC,EAAM,UAClBrC,YAAYsC,EAAQ,UACpBtC,YAAYuC,EAAW,UAGvB3E,IAAK+E,IAAI1E,EAAQ,CAACqC,QAAS,EAAGO,SAAQ,EAAM+B,OAAO,EAAGC,OAAQ,IAC9DjF,IAAK+E,IAAIN,EAAO,CAACxB,SAAQ,EAAM+B,OAAQ,GAAKC,OAAQ,GAAKvC,QAAS,IAClE1C,IAAK+E,IAAIL,EAAS,CAAChC,QAAS,EAAGO,SAAQ,EAAM+B,OAAO,GAAKC,OAAQ,KACjEjF,IAAK+E,IAAIJ,EAAY,CAAC1B,SAAQ,EAAME,EAAE,IAAK+B,UAAW,KACtD,IAEIC,EACW,EAHTC,EAAG,UAAGpE,EAAUS,eAAb,aAAG,EAAmBG,cAAc,iBAC7C5B,IAAK+E,IAAIK,EAAM,CAAC1C,QAAS,IAEtBnC,KACA4E,EAAI,UAAGnE,EAAUS,eAAb,aAAG,EAAmBG,cAAc,aACxC5B,IAAK+E,IAAII,EAAM,CAACzC,QAAS,KAE5B1C,IAAK+E,IAAI/D,EAAUS,QAAS,CAACiB,QAAS,IAEtC1C,IAAKyC,GAAGzB,EAAUS,QAAS,GAAK,CAACiB,QAAS,IAC1C1C,IAAKyC,GAAGpC,EAAQ,GAAK,CAACgF,MAAO,GAAKL,OAAQ,EAAGC,OAAQ,EAAGvC,QAAQ,EAAGC,KAAM2C,IAAKC,QAAQC,OAAO,GAAIC,WAAY,WAC1GpF,EAAOqF,MAAMC,UAAY,GACzBtF,EAAOqF,MAAME,WAAa,WAC5B,IACD5F,IAAKyC,GAAGgC,EAAO,EAAG,CAACY,MAAO,IAAKL,OAAQ,EAAGC,OAAQ,EAAGvC,QAAQ,EAAGC,KAAM2C,IAAKC,QAAQC,OAAO,KAAMC,WAAY,WACzGhB,EAAMiB,MAAMC,UAAY,EAC1B,IACD3F,IAAKyC,GAAGiC,EAAS,GAAK,CAACW,MAAO,GAAKpC,SAAQ,EAAM+B,OAAQ,EAAGC,OAAO,EAAGvC,QAAS,EAAGC,KAAM2C,IAAKC,QAAQC,OAAO,KAC5GxF,IAAKyC,GAAGkC,EAAY,GAAK,CAACU,MAAO,IAAKpC,SAAQ,EAAME,EAAG,EAAG+B,SAAS,EAAGvC,KAAM2C,IAAKC,QAAQC,OAAO,KAAMC,WAAY,WAC/GrD,YAAYgD,EAAK,WACjBpF,IAAKyC,GAAG2C,EAAM,GAAK,CAAC1C,QAAS,IAC1BnC,IACA6B,YAAY+C,EAAM,WAClBnF,IAAKyC,GAAG0C,EAAM,GAAK,CAACzC,QAAS,KAEhC1C,IAAKyC,GAAGkC,EAAY,GAAK,CAACU,MAAO,GAAKQ,MAAO,KAAMC,QAAS,EAAGC,MAAM,EAAMpD,KAAMqD,IAAOC,UAC1F,IACDjG,IAAK+E,IAAIH,EAAQ,CAAC3C,EAAG,IAAKkB,EAAG,IAC7BnD,IAAK+E,IAAIF,EAAQ,CAAC5C,EAAG,GAAIkB,EAAG,KAC5BnD,IAAK+E,IAAID,EAAQ,CAAC7C,EAAG,IAAKkB,EAAG,KAC7BnD,IAAKyC,GAAGmC,EAAQ,GAAK,CAACS,MAAO,IAAK3C,QAAS,EAAGT,EAAE,EAAGkB,EAAE,EAAGR,KAAM2C,IAAKC,QAAQC,OAAO,GAAIC,WAAY,WAC/Fb,EAAOc,MAAMC,UAAY,EAC3B,IACD3F,IAAKyC,GAAGoC,EAAQ,GAAK,CAACQ,MAAO,IAAK3C,QAAS,EAAGT,EAAE,EAAGkB,EAAE,EAAGR,KAAM2C,IAAKC,QAAQC,OAAO,GAAIC,WAAY,WAC/FZ,EAAOa,MAAMC,UAAY,EAC3B,IACD3F,IAAKyC,GAAGqC,EAAQ,GAAK,CAACO,MAAO,IAAK3C,QAAS,EAAGT,EAAE,EAAGkB,EAAE,EAAGR,KAAM2C,IAAKC,QAAQC,OAAO,GAAIC,WAAY,WAC/FX,EAAOY,MAAMC,UAAY,EAC3B,IAEDzE,EAAaO,QAASC,OACtBP,EAAUM,QAASC,MACrB,GAAC,IAGIwE,EAAiB3E,uBAAY,SAAEC,GAAQ,IAAD,IAG1B,KAFfP,EAAWQ,QAASC,OACpBC,YAAQ,UAACX,EAAUS,eAAX,iBAAC,EAAmBG,cAAc,uBAAlC,aAAC,EAAkDC,cAAe,WACvEtB,IACAoB,YAAQ,UAACX,EAAUS,eAAX,iBAAC,EAAmBG,cAAc,oBAAlC,aAAC,EAA+CC,cAAe,WAE1ES,YAAW,WACRtC,IAAKmG,aAAa,KAClB3F,EAAS,CAAErB,KAAMb,IAAamB,SAChC,GAAE,IACL,GAAC,IAEI2G,EAAc7E,uBAAY,SAACC,GAC9BP,EAAWQ,QAASC,MAMtB,GAAE,IAGG2E,EAAc9E,uBAAY,SAAC+E,GAC9B,IAAMrE,GA5MU,KA4MayB,OAAO6C,WA5MpB,IA4MkD7C,OAAOmC,OAAU,GAAMS,EACzF,OAAOrE,GAAQ,CACjB,GAAE,IAEGI,EAAWd,uBAAY,SAAE+E,GAE5B,IADA,IAAIE,EAAU,EACNtE,EAAI,EAAGA,EAAEb,EAAQI,QAAQgF,OAAQvE,IACtC,GAAGb,EAAQI,QAAQS,KAAOoE,EAAK,CAC5BE,EAAUtE,EACV,KACF,CAEJ,OAAOsE,CACT,GAAC,IAGIE,EAAWnF,uBAAY,WAC1Be,YAAW,WACR,IAAMqE,EAAOC,SAAShF,cAAc,iBACpC,GAAG+E,EAAM,CACN,IAAME,EAAOC,SAASH,EAAKjB,MAAMmB,OAAS,EAAEnD,OAAOmC,OAC7CkB,EAASrD,OAAO6C,YAAc,EAAE7C,OAAOmC,OAK7C,GAJG9E,EAAQU,UACRV,EAAQU,QAAQuF,SAAQ,SAACC,EAAM/E,GAAP,OAAa+E,IAASA,EAAKvB,MAAMmB,KAAX,UAAmBR,EAAYhF,EAAQI,QAAQS,IAA/C,MAAtB,IACxBlC,IAAK+E,IAAIjE,EAAWW,QAAS,CAACQ,GAAIoE,EAAYjF,EAASK,QAAQ,MAE/Dd,EAASc,QAAQ,CACjB,IAAMyF,EAAUvG,EAASc,QAAQG,cAAc,OAC/CsF,EAAQxB,MAAMqB,MAAd,UAAyBA,EAAzB,MACAG,EAAQxB,MAAMmB,KAAd,WAAyBA,EAAzB,KACF,CACD,GAAGhG,EAASY,QAAQ,CACjB,IAAMqB,EAAWjC,EAASY,QAAQG,cAAc,cAC1CuF,EAAUtG,EAASY,QAAQG,cAAc,OAC/CkB,EAAS4C,MAAMqB,MAAf,UAA0BA,EAA1B,MACAjE,EAAS4C,MAAMmB,KAAf,WAA0BA,EAA1B,MACAM,EAAQzB,MAAMqB,MAAd,UAAyBA,EAAzB,MACAI,EAAQzB,MAAMmB,KAAd,WAAyBA,EAAzB,KACF,CACD,GAAG7F,EAAUS,QAAQ,CAClB,IAAM2F,EAAWpG,EAAUS,QAAQG,cAAc,OACjDwF,EAAS1B,MAAMqB,MAAf,UAA0BA,EAA1B,MACAK,EAAS1B,MAAMmB,KAAf,WAA0BA,EAA1B,KACF,CACeD,SAAShF,cAAc,gBAC/B8D,MAAMmB,KAAd,UAAwB,IAAIA,EAA5B,KACF,CACH,GAAE,EACL,GAAC,IAEIQ,EAAkB9F,uBAAY,SAAEC,GAChCoF,SAASU,OACTC,IAAMC,WAEND,IAAME,WAEX,GAAE,IAEGC,EAAYnG,uBAAY,SAAEC,GAC7BP,EAAWQ,QAASC,OACpBgC,OAAOiE,KAAKC,QACZvD,QAAQC,IAAI,UACd,GAAE,IA+FH,OA5FAuD,qBAAU,WACP,OAAOrJ,GACJ,KAAKH,IAAYkF,iBACdnB,YAAYrB,EAAQU,QAAQY,EAAS1D,EAAY,IAAK,UACnDyC,EAASK,QAAU9C,EACnByD,YAAYrB,EAAQU,QAAQY,EAAS1D,IAAe,UAEpDyD,YAAYrB,EAAQU,QAAQY,EAAS1D,EAAY,IAAK,UAEzDqB,IAAKmG,aAAarF,EAAWW,SAC7BzB,IAAKyC,GAAG3B,EAAWW,QAAS,GAAK,CAAC4D,MAAM,IAAMpD,GAAIoE,EAAY1H,EAAY,GAAIgE,KAAMmF,IAAOvC,QAAStC,SAAS,EAC1GwC,WAAY,WACT1E,EAAQU,QAAQuF,SAAQ,SAACC,EAAM/E,GACzBG,EAAS1D,EAAY,KAAOuD,GAC5BP,YAASsF,EAAM,SAEpB,GACH,IAEJ3E,YAAW,WACR9B,EAAS,CACNrB,KAAMb,IAAaiB,cACnBH,QAASf,IAAYgF,aAE1B,GAAE,KACHjC,EAASK,QAAU9C,EACtB,MACA,KAAKN,IAAY0J,UACVlJ,EAAWmJ,MAAK,SAAC/F,GAAD,OAAeA,IAAMtD,CAArB,KACjB6B,EAAS,CAACrB,KAAMb,IAAakB,eAAgBJ,QAAST,IAE5D,MACA,KAAKN,IAAYkG,OACdmC,IACH,MACA,KAAKrI,IAAYoB,QACd,IAAMqD,EAAWjC,EAASY,QAASG,cAAc,cACjD5B,IAAK+E,IAAIjC,EAAU,CAACG,SAAS,EAAMC,OAAQ,KAC3C7B,EAAQI,QAAUU,YAAWrD,EAAWA,GACxCsC,EAASK,QAAU,EACnBW,YAAYrB,EAAQU,QAAQY,EAAS,IAAK,UAC1CqE,IACAlG,EAAS,CAAErB,KAAMb,IAAagB,iBAAkBF,QAASiD,EAAS1D,EAAc,KAChF2D,YAAW,WACR9B,EAAS,CACNrB,KAAMb,IAAaiB,cACnBH,QAASf,IAAYgF,aAE1B,GAAE,IAGX,GAAC,CAAC7E,IAGHqJ,qBAAU,WAIP,OAHAnE,OAAOuE,iBAAiB,SAAUvB,GAClCE,SAASqB,iBAAiB,mBAAoBZ,GAC9CX,IACO,WACJhD,OAAOwE,oBAAoB,SAAUxB,GACrCE,SAASsB,oBAAoB,mBAAoBb,EACnD,CACH,GAAE,IAGHc,2BAAgB,WACblH,EAAWQ,QAAU2G,IAAMrG,KAAK,CAACsG,IAAKC,EAAQ,KAA6BC,QAASC,SAAS,IAC7FtH,EAAaO,QAAU2G,IAAMrG,KAAK,CAACsG,IAAKC,EAAQ,KAAgCC,QAASC,SAAS,IAClGrH,EAAUM,QAAU2G,IAAMrG,KAAK,CAACsG,IAAKC,EAAQ,KAA4BC,QAASC,SAAS,IAE3F,IAAI/E,EAAO,GACX,GAAIC,OAAOC,UACRF,EAAI,gBAAYtE,OAEd,CACF,IAAIyE,EAAIzE,EAAK0E,cACJ,UAAND,IAAeA,EAAI,QACtBH,EAAI,gBAAYG,EAAZ,SACN,CACDF,OAAOI,KACNC,IAAIN,EAAM,CAACO,OAAQ,CAAEtF,MAAOA,EAAOuF,MAAOwE,YAAU,SAAUC,SAAUD,YAAU,gBAClFtE,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACFhF,EAAe,CAAEV,MAAOA,EAAOK,UAAWqF,EAAKA,KAAMtF,UAAWsF,EAAKA,KAAK6C,KAAKR,QAC1D,IAAtBrC,EAAKA,KAAK1E,UACVN,EAAQP,WAAaiD,MAAMC,KAAKD,MAAMsC,EAAKA,KAAK6C,KAAKR,SAASzE,KAAI,SAACC,EAAEC,GAAH,OAASA,EAAE,CAAX,KAErE1B,EAAS,CAAErB,KAAMb,IAAaG,KAAMW,QAASA,IAC7CoB,EAAS,CAAErB,KAAMb,IAAaiB,cAAeH,QAASf,IAAYsK,OACpE,GACH,GAAE,IAGAnK,IAAWH,IAAYI,KAChB,KAIP,cAAC,IAAD,UACG,eAAC,IAAD,CACGmK,aAhXU,IAiXVC,cAhXW,IA8Wd,UAGG,cAAC,IAAD,UACG,gCAAQxI,MAEX,sBAAKyI,GAAG,UAAR,UACG,cAAC,IAAD,CACGC,QAASpI,EACTqI,GAAIxK,IAAWH,IAAYsK,MAC3BM,QAAS,CAACC,KAAM,IAAKC,OAAQ,GAC7BC,eAAa,EACbC,OAAQ7G,EACR8G,SAAUlG,EANb,SAOG,sBAAK0F,GAAG,QAAQS,IAAK5I,EAArB,UACG,qBAAK6I,UAAU,OACf,sBAAKA,UAAU,YAAf,UACInJ,EADJ,IACW,+CAAgB3B,QAG3B,qBAAK8K,UAAU,aAAf,SACG,sBAAKA,UAAU,YAAf,UACG,qBAAKA,UAAU,cAAcC,wBAAyB,CAACC,OAAQ3K,EAAU4K,cACzE,cAAC,IAAD,CAASC,MAAM,wBAAwBC,OAAQ,KAA/C,SACG,wBAAQL,UAAU,YAAYM,QAASxI,EAAvC,SACG,qBAAKyI,IAAKzB,EAAQ,KAA+CC,mBAM7E,sBAAKiB,UAAU,OAAf,UACG,qBAAKA,UAAU,SACf,qBAAKA,UAAU,aAGlB,qBAAKA,UAAU,eAAf,SACG,qBAAKO,IAAKzB,OAAQ,YAA0BnJ,EAAK0E,cAAhC,mBAAwD9E,EAAU2J,SAAlE,SAAkFH,iBAK5G,cAAC,IAAD,CACGQ,QAASlI,EACTmI,GAAIxK,IAAWH,IAAYkG,OAC3B0E,QAAS,CAAEC,KAAM,IAAMC,OAAQ,GAC/BC,eAAa,EAJhB,SAKG,sBAAKG,IAAK1I,EAAUiI,GAAG,QAAvB,UACG,qBAAKU,UAAU,OACf,qBAAKA,UAAU,YAAf,SACG,sBAAKA,UAAU,aAAf,UACG,sBAAKA,UAAU,WAAf,0BACa9K,EADb,OACwB,sBAAM+K,wBAAyB,CAACC,OAAQ3K,EAAU4K,iBAE1E,sBAAKH,UAAU,WAAf,UACG,+BAAO7K,IADV,MACiCG,UAKvC,qBAAK0K,UAAU,cAAcD,IAAKzI,EAAlC,SACK/B,EAAUkI,KAAKjF,KAAI,SAACgI,EAAS9H,GAAV,OAClB,qBACGqH,IAAK,SAAAU,GAAE,OAAIlJ,EAAQU,QAAQS,GAAG+H,CAAvB,EACPT,UAAU,oBACV9D,MAAO,CAACmB,KAAMR,EAAYhF,EAAQI,QAAQS,KAH7C,SAII5B,EAAU4B,EAAE,IAJhB,qBAAwBA,GADN,MAUxB,sBAAKsH,UAAS,oBAAehL,IAAWH,IAAYkF,kBAAoB/E,IAAWH,IAAYkG,OAAS,UAAY,IAApH,UACG,wBACGiF,UAAS,wBAAyC,IAAtBzK,EAAUW,SAA0C,IAAhBf,EAAV,SAAyC,IAC/FmL,QAASxG,IAEZ,wBACGkG,UAAS,wBAA0C,IAAtB3K,EAAW4H,QAAgB5H,EAAWA,EAAW4H,OAAO,GAAK9H,EAAe,SAAU,IACnHmL,QAAStG,YAMrB,cAAC,IAAD,CACGuF,QAAS/H,EACTgI,GAAIxK,IAAWH,IAAYkG,OAC3B0E,QAAS,CAAEC,KAAM,EAAGC,OAAQ,KAC5Be,QAAS1F,EACT4E,eAAa,EALhB,SAMG,sBAAKG,IAAKvI,EAAW8H,GAAG,SAAxB,UACG,qBAAKU,UAAU,OACf,qBAAKA,UAAU,oBACf,qBAAKA,UAAU,gBACf,qBAAKA,UAAU,kBACf,qBAAKA,UAAU,gBAAf,SACG,qBAAKA,UAAU,uBAElB,sBAAKA,UAAU,WAAf,UACG,qBAAKA,UAAU,UACf,qBAAKA,UAAU,UACf,qBAAKA,UAAU,aAElB,sBAAKA,UAAU,aAAf,UACG,cAAC,IAAD,CAASI,MAAM,qBAAqBC,OAAQ,KAA5C,SACG,wBACGL,UAAU,sBACVM,QAAS5D,EAFZ,SAGG,qBAAK6D,IAAKzB,OAAQ,oBAAyCvJ,EAAU2J,SAApD,SAAoEH,cAG1FhI,GACE,cAAC,IAAD,CAASqJ,MAAM,uBAAuBC,OAAQ,KAA9C,SACG,wBACGL,UAAU,mBACVM,QAAS1D,EAFZ,SAGG,qBAAK2D,IAAKzB,OAAQ,iBAAsCvJ,EAAU2J,SAAjD,SAAiEH,sBASpG,wBAAQO,GAAG,cACR3J,KAAK,SACL2K,QAASpC,WAK1B,C,qEC1eKyC,EAAcC,sBAAwB,WAOzCb,GAAS,IANTQ,EAMQ,EANRA,IACAM,EAKQ,EALRA,SAKQ,IAJRxD,YAIQ,MAJD,MAIC,MAHRyD,WAGQ,MAHF,MAGE,EAFRC,EAEQ,EAFRA,cACAC,EACQ,EADRA,aAGA,EAA4BC,oBAAkB,GAA9C,mBAAOC,EAAP,KAAeC,EAAf,KACMC,EAAQhK,sBAA0BiK,GAClCC,EAAavJ,uBAAY,WACf,IAAD,EAARmJ,IACEH,GAAeA,IAClBI,GAAU,GACV,UAAAC,EAAMnJ,eAAN,SAAeC,MAAK,kBAAMiJ,GAAU,EAAhB,IACjBH,GAAcA,IAEtB,GAAC,CAACD,EAAeC,EAAcE,IAuBhC,OArBAK,8BAAoBxB,GAAK,iBAAO,CAC7ByB,KAAM,WAAO,IAAD,EACT,UAAAJ,EAAMnJ,eAAN,SAAeuJ,OACfL,GAAU,EACZ,EAJqB,IAOzB9C,qBAAU,WACP,IAAIwC,EAAU,CACO,IAAD,EAAjB,GAAGO,EAAMnJ,QACN,UAAAmJ,EAAMnJ,eAAN,SAAewJ,UACfL,EAAMnJ,aAAUoJ,EAGnB,OADAD,EAAMnJ,QAAU2G,IAAMrG,KAAK,CAACsG,IAAK0B,EAAKvB,SAAS,IACxC,WAAO,IAAD,EACV,UAAAoC,EAAMnJ,eAAN,SAAewJ,UACfL,EAAMnJ,aAAUoJ,CAClB,CACH,CACH,GAAE,CAACR,IAGD,wBACG3E,MAAO,CAAEmB,OAAMyD,OACfd,UAAS,wBAAmBa,GAAYK,EAAS,SAAW,GAAnD,YAAyDL,EAAW,WAAa,IAC1FP,QAASgB,GAGjB,IAEcX,K,sBC9Ef,IAAInI,EAAM,CACT,6BAA8B,IAC9B,2BAA4B,IAC5B,8BAA+B,IAC/B,8BAA+B,IAC/B,8BAA+B,IAC/B,8BAA+B,IAC/B,8BAA+B,IAC/B,8BAA+B,IAC/B,2BAA4B,IAC5B,gCAAiC,IACjC,8BAA+B,IAC/B,4BAA6B,IAC7B,6BAA8B,IAC9B,yBAA0B,IAC1B,wBAAyB,IACzB,yBAA0B,IAC1B,0BAA2B,IAC3B,0BAA2B,IAC3B,0BAA2B,IAC3B,0BAA2B,IAC3B,0BAA2B,IAC3B,0BAA2B,IAC3B,wBAAyB,IACzB,yBAA0B,IAC1B,yBAA0B,IAC1B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,yBAA0B,IAC1B,gCAAiC,IACjC,6BAA8B,IAC9B,2BAA4B,IAC5B,4BAA6B,IAC7B,qBAAsB,IACtB,qBAAsB,IACtB,qBAAsB,IACtB,yBAA0B,IAC1B,wBAAyB,IACzB,4BAA6B,IAC7B,yBAA0B,IAC1B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,8BAA+B,IAC/B,iCAAkC,IAClC,iCAAkC,IAClC,iCAAkC,IAClC,iCAAkC,IAClC,iCAAkC,IAClC,iCAAkC,IAClC,+BAAgC,IAChC,gCAAiC,IACjC,sCAAuC,IACvC,mCAAoC,IACpC,0BAA2B,IAC3B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,2BAA4B,IAC5B,8BAA+B,IAC/B,iCAAkC,IAClC,wCAAyC,IACzC,yCAA0C,IAC1C,uCAAwC,IACxC,0CAA2C,IAC3C,wCAAyC,IACzC,yCAA0C,IAC1C,uCAAwC,IACxC,0CAA2C,IAC3C,sCAAuC,IACvC,uCAAwC,IACxC,qCAAsC,IACtC,wCAAyC,IACzC,sCAAuC,IACvC,uCAAwC,IACxC,qCAAsC,IACtC,wCAAyC,IACzC,kCAAmC,IACnC,iCAAkC,IAClC,mCAAoC,IACpC,kCAAmC,IACnC,sCAAuC,IACvC,uCAAwC,IACxC,qCAAsC,IACtC,wCAAyC,IACzC,sCAAuC,IACvC,uCAAwC,IACxC,qCAAsC,IACtC,wCAAyC,IACzC,6BAA8B,IAC9B,gCAAiC,IACjC,gCAAiC,IACjC,gCAAiC,IACjC,gCAAiC,IACjC,gCAAiC,IACjC,gCAAiC,IACjC,8BAA+B,IAC/B,8BAA+B,IAC/B,yBAA0B,IAC1B,yBAA0B,IAC1B,yBAA0B,IAC1B,yBAA0B,IAC1B,yBAA0B,IAC1B,qBAAsB,IACtB,wBAAyB,IACzB,2BAA4B,IAC5B,2BAA4B,IAC5B,2BAA4B,IAC5B,2BAA4B,IAC5B,2BAA4B,IAC5B,2BAA4B,IAC5B,yBAA0B,IAC1B,mBAAoB,KAIrB,SAASkJ,EAAeC,GACvB,IAAIrC,EAAKsC,EAAsBD,GAC/B,OAAOE,EAAoBvC,EAC5B,CACA,SAASsC,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAEtJ,EAAKmJ,GAAM,CACpC,IAAI3J,EAAI,IAAI+J,MAAM,uBAAyBJ,EAAM,KAEjD,MADA3J,EAAEgK,KAAO,mBACHhK,CACP,CACA,OAAOQ,EAAImJ,EACZ,CACAD,EAAeO,KAAO,WACrB,OAAOC,OAAOD,KAAKzJ,EACpB,EACAkJ,EAAeS,QAAUP,EACzBQ,EAAOC,QAAUX,EACjBA,EAAepC,GAAK,G,sBC5IpB,IAAI9G,EAAM,CACT,sBAAuB,IACvB,sBAAuB,IACvB,sBAAuB,IACvB,sBAAuB,IACvB,sBAAuB,IACvB,sBAAuB,KAIxB,SAASkJ,EAAeC,GACvB,IAAIrC,EAAKsC,EAAsBD,GAC/B,OAAOE,EAAoBvC,EAC5B,CACA,SAASsC,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAEtJ,EAAKmJ,GAAM,CACpC,IAAI3J,EAAI,IAAI+J,MAAM,uBAAyBJ,EAAM,KAEjD,MADA3J,EAAEgK,KAAO,mBACHhK,CACP,CACA,OAAOQ,EAAImJ,EACZ,CACAD,EAAeO,KAAO,WACrB,OAAOC,OAAOD,KAAKzJ,EACpB,EACAkJ,EAAeS,QAAUP,EACzBQ,EAAOC,QAAUX,EACjBA,EAAepC,GAAK,G,sBC3BpB,IAAI9G,EAAM,CACT,mBAAoB,IACpB,mBAAoB,IACpB,mBAAoB,IACpB,mBAAoB,IACpB,mBAAoB,IACpB,mBAAoB,KAIrB,SAASkJ,EAAeC,GACvB,IAAIrC,EAAKsC,EAAsBD,GAC/B,OAAOE,EAAoBvC,EAC5B,CACA,SAASsC,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAEtJ,EAAKmJ,GAAM,CACpC,IAAI3J,EAAI,IAAI+J,MAAM,uBAAyBJ,EAAM,KAEjD,MADA3J,EAAEgK,KAAO,mBACHhK,CACP,CACA,OAAOQ,EAAImJ,EACZ,CACAD,EAAeO,KAAO,WACrB,OAAOC,OAAOD,KAAKzJ,EACpB,EACAkJ,EAAeS,QAAUP,EACzBQ,EAAOC,QAAUX,EACjBA,EAAepC,GAAK,G,mCC3BpB,0DA+Je5I,IApIc,SAAC,GASvB,IARJ4L,EAQG,EARHA,OACAC,EAOG,EAPHA,OACAC,EAMG,EANHA,QACAC,EAKG,EALHA,QACAC,EAIG,EAJHA,YACAC,EAGG,EAHHA,UACAC,EAEG,EAFHA,QACAC,EACG,EADHA,QAGMC,EAAgB1L,iBAAuB,MACvC2L,EAAY3L,iBAAyB,IACrC4L,EAAY5L,iBAAyB,IACrC6L,EAAa7L,mBACbK,EAAaL,mBAIb8L,EAAenL,uBAAY,SAAEoL,EAAgBC,GAChD,IAAI,IAAI1K,EAAE,EAAGA,EAAEsK,EAAU/K,QAAQgF,OAAQvE,IAAK,CAC3C,IAAI2K,EAAWL,EAAU/K,QAAQS,GACjC,GAAgD,WAA7C4K,iBAAiBD,GAAjB,YAAmG,SAA1CC,iBAAiBD,GAAjB,SACzDF,EAAUI,QAAQF,EAAUR,GAC5B,OAAGQ,EAASG,QAAQC,UAAYL,EAASI,QAAQC,QACvC,EAAC,EAAMJ,GAEP,EAAC,EAAOA,EAGvB,CACD,OAAO,IACT,GAAE,IAGGK,EAAa3L,uBAAY,SAAC4L,EAAQP,GACrC,IAAMQ,EAAOC,YAASF,EAAOlL,EAAGkL,EAAOhK,EAAG,EAAG,GAC7CnD,IAAKyC,GAAGmK,EAAiB,KAAPQ,EAAc,CAC7BnL,EAAE,EAAGkB,EAAG,EACRR,KAAKC,IAAM2C,QACXE,WAAY,WACTgH,EAAWhL,QAASuF,SAAQ,SAAAsG,GAAQ,OAAIA,EAASC,QAAb,GACtC,GAEN,GAAC,IA8DF,OA3DA1F,qBAAU,WAqDP,OApDA5G,EAAWQ,QAAU2G,IAAMrG,KAAK,CAACsG,IAAKC,EAAQ,KAAgCC,QAASC,SAAS,IAChGxI,IAAKyC,GAAG8J,EAAU9K,QAAS,GAAK,CAAC0B,EAAG,EAAGF,SAAS,EAAMN,KAAMC,IAAMC,UAAW4C,WAAY,WACtFgH,EAAWhL,QAAU+L,IAAcC,OAAOlB,EAAU9K,QAAS,CAC1DtC,KAAM,MACNuO,OAAQ,WACRxB,YAAa,SAAW1K,GACrB,IAAM8E,EAAMqH,YAAaC,KAAKC,QACPpB,EAAWhL,QAASqM,QAAO,SAAC7L,EAAGC,GAAJ,OAAUA,IAAMoE,CAAhB,IACnCU,SAAQ,SAAAsG,GAAQ,OAAIA,EAASS,SAAb,IAC/B9M,EAAWQ,QAASC,OACjBwK,GACAA,EAAYK,EAAU9K,QAAQ6E,GAEnC,EACD0H,OAAQ,SAAWxM,GAChB,IAAM8E,EAAMqH,YAAaC,KAAKC,QACxBjB,EAAWL,EAAU9K,QAAQ6E,GAC7B2H,EAAUvB,EAAakB,KAAMhB,GACnCJ,EAAU/K,QAAQuF,SAAQ,SAAAkH,GAAI,OAAI9L,YAAY8L,EAAM,MAAtB,IAC3BD,GACGA,EAAQ,IACRtM,YAASsM,EAAQ,GAAI,MAG7B,EACDE,UAAW,SAAW3M,GACnB,IAAM8E,EAAMqH,YAAaC,KAAKC,QACxBjB,EAAWL,EAAU9K,QAAQ6E,GACnCsH,KAAKG,UACL,IAAME,EAAUvB,EAAakB,KAAMhB,GACnCJ,EAAU/K,QAAQuF,SAAQ,SAAAkH,GAAI,OAAI9L,YAAY8L,EAAM,MAAtB,IAC3BD,EACGA,EAAQ,IACRtM,YAASiL,EAAU,UACnBjL,YAASsM,EAAQ,GAAI,UACrBxB,EAAWhL,QAASuF,SAAQ,SAAAsG,GAAQ,OAAIA,EAASC,QAAb,IACjCpB,GACAA,EAAUI,EAAU9K,QAAQ6E,GAAM2H,EAAQ,MAG7Cf,EAAWU,KAAMhB,GACdR,GACAA,EAAQQ,IAIdM,EAAWU,KAAMhB,EAEtB,GAEN,IAEM,WAAO,IAAD,EACV5M,IAAKmG,aAAamG,EAAc7K,SAChC,UAAAgL,EAAWhL,eAAX,SAAoBuF,SAAS,SAAAoH,GAAI,OAAIA,EAAKC,MAAT,GACnC,CACH,GAAE,IAGA,sBAAK9E,IAAK+C,EAAe9C,UAAU,YAAnC,UACG,qBAAKA,UAAU,aAAf,SACIsC,EAAO9J,KAAI,SAACiL,EAAS/K,GAAV,OACT,qBACGqH,IAAK,SAAAA,GAAG,OAAIA,IAAQiD,EAAU/K,QAAQS,GAAGqH,EAAjC,EACRC,UAAU,YACV,eAAcyD,EAHjB,SAIIjB,GAAWA,EAAQ9J,IAJvB,oBAAuBA,GADd,MASf,qBAAKsH,UAAU,aAAf,SACIuC,EAAO/J,KAAI,SAACiL,EAAS/K,GAAV,OACT,qBACGqH,IAAK,SAAAA,GAAG,OAAIA,IAAQgD,EAAU9K,QAAQS,GAAGqH,EAAjC,EACRC,UAAU,YACV,eAAcyD,EAHjB,SAIIhB,GAAWA,EAAQ/J,IAJvB,oBAAuBA,GADd,QAWvB,C","file":"static/js/5.28c7c1f6.chunk.js","sourcesContent":["\r\nexport enum StudyStatus {\r\n   INIT = 'INIT',\r\n   READY = 'READY',\r\n   START = 'START',\r\n   STUDY_START = 'STUDY_START',\r\n   STUDY_END = 'STUDY_END',\r\n   STUDY_TRANSITION = 'STUDY_TRANSITION',\r\n   RESULT = 'RESULT',\r\n   RESTART = 'RESTART'\r\n}\r\n\r\nexport enum StudyActions {\r\n   INIT = 'INIT',\r\n   CHANGE_STATUS = 'CHANGE_STATUS',\r\n   SET_CURRENT_PAGE = 'SET_CURRENT_PAGE',\r\n   SET_ACTIVE_INDEX = 'SET_ACTIVE_INDEX',\r\n   SET_CLEAR_PAGE = 'SET_CLEAR_PAGE',\r\n   RESTART = 'RESTART'\r\n}\r\n\r\nexport type ActionTypes = {\r\n   type: string;\r\n   payload: any;\r\n}\r\n\r\nexport type StateTypes = {\r\n   status: StudyStatus,    // 학습 상태\r\n   stage: number;          // 학습 스테이지\r\n   currentPage: number;    // 현재 페이지   \r\n   activeIndex: number;    // 현재 활성 인덱스 ( 랜덤으로 문제가 나옴으로 currentPage와 인덱스가 다름 )\r\n   clearPages: number[];   // 완료한 페이지 배열\r\n   totalPage: number;      // 전체 페이지 수\r\n   studyData: any | null;  // api에서 가져온 학습 데이터\r\n}\r\n\r\nexport const InitialState = {\r\n   status: StudyStatus.INIT,\r\n   stage: 1,\r\n   currentPage: 1,\r\n   activeIndex: 0,\r\n   clearPages: [],\r\n   totalPage: 0,\r\n   studyData: null,\r\n}\r\n\r\nexport const Reducer = ( state: StateTypes = InitialState, action: ActionTypes ) => {\r\n   switch( action.type ) {\r\n      case StudyActions.INIT :\r\n         return {...state, ...action.payload };\r\n      case StudyActions.SET_CURRENT_PAGE :\r\n         return {...state, currentPage: action.payload};\r\n      case StudyActions.SET_ACTIVE_INDEX :\r\n         return {...state, activeIndex: action.payload};   \r\n      case StudyActions.CHANGE_STATUS :\r\n         return {...state, status: action.payload };\r\n      case StudyActions.SET_CLEAR_PAGE :\r\n         return {...state, clearPages: [...state.clearPages, action.payload]};\r\n      case StudyActions.RESTART :\r\n         return {\r\n            ...state, \r\n            status: StudyStatus.RESTART, \r\n            currentPage: 1, \r\n            studyData: { ...state.studyData, reStudy: true } \r\n         };\r\n      default : \r\n         return state; \r\n   }\r\n}\r\n","import Redux, { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { Reducer } from './reducer';\r\n\r\nconst env = process.env.NODE_ENV;\r\nconst middlewares = [thunk];\r\nif(env === 'development') {\r\n   const { logger } = require(\"redux-logger\");\r\n   middlewares.push(logger);\r\n}\r\n\r\nlet store: Redux.Store;\r\n\r\nif(env === 'development') {\r\n   const composeWithDevTools = require('redux-devtools-extension').composeWithDevTools;\r\n   store = createStore(Reducer, composeWithDevTools(applyMiddleware(...middlewares)));\r\n} else {\r\n   store = createStore(Reducer, applyMiddleware(...middlewares));\r\n}\r\n\r\nexport default store;","import { FC, ReactElement, useCallback, useEffect, useLayoutEffect, useRef } from 'react';\r\nimport { Helmet, HelmetProvider } from 'react-helmet-async';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport CommonLayout from './CommonLayout';\r\nimport { StudyActions, StudyStatus } from '../stores/study/reducer';\r\nimport { Transition  } from 'react-transition-group';\r\nimport { gsap, Cubic, Power2, Back, Linear } from 'gsap';\r\nimport { sound } from '@pixi/sound';\r\nimport Ripples from 'react-ripples';\r\nimport { getCookie, addClass, makeRandom, removeClass } from '../utils';\r\n\r\nimport Draggable from \"gsap/Draggable\";\r\nimport { MotionPathPlugin } from 'gsap/all';\r\nimport { Sound } from '@pixi/sound';\r\n\r\ngsap.registerPlugin(Draggable);\r\ngsap.registerPlugin(MotionPathPlugin);\r\n\r\n\r\nconst CONTENT_WIDTH = 960;\r\nconst CONTENT_HEIGHT = 600;\r\n\r\n\r\n/*\r\n* @ PROPS\r\n*     title: 학습 타이틀\r\n*     stage: 학습 스테이지 숫자\r\n*     type: 학습 종류\r\n*     studyElem: 학습 jsx element\r\n*/\r\nexport interface Prors {\r\n   title: string;\r\n   stage: number;\r\n   type: string;\r\n   studyElem: (idx: number) => ReactElement;\r\n   showGameBtn?: boolean;\r\n}\r\n\r\nconst StudyLayout: FC<Prors> = ({ title, stage, type, studyElem, showGameBtn }) => {\r\n\r\n   const dispatch = useDispatch();\r\n   const studyData: any = useSelector<any>(state => state.studyData);\r\n   const status: any = useSelector<any>(state => state.status);\r\n   const currentPage: any = useSelector<any>(state => state.currentPage);\r\n   const totalPage: any = useSelector<any>(state => state.totalPage);\r\n   const clearPages: any = useSelector<any>(state => state.clearPages);\r\n\r\n   const introRef = useRef<HTMLDivElement>(null);\r\n   const studyRef = useRef<HTMLDivElement>(null);\r\n   const listConRef = useRef<HTMLDivElement>(null);\r\n   const listRef = useRef<Array<HTMLDivElement>>([]);\r\n   const resultRef = useRef<HTMLDivElement>(null);\r\n   const clickAudio = useRef<Sound>();\r\n   const goodJobAudio = useRef<Sound>();\r\n   const clapAudio = useRef<Sound>();\r\n   const prevPage = useRef<number>(1);\r\n   const indexAr = useRef<number[]>([]);\r\n   \r\n\r\n\r\n   const onClickStart = useCallback(( e ) => {\r\n      clickAudio.current!.play();\r\n      addClass(introRef.current?.querySelector('.start-btn')?.parentElement, 'disable');\r\n      \r\n      if(studyData.reStudy === 0) {\r\n         indexAr.current = Array.from(Array(totalPage)).map((x,i) => i);\r\n      } else {\r\n         indexAr.current = makeRandom(totalPage, totalPage);\r\n      }\r\n\r\n      removeClass(listRef.current[getIndex(0)], 'hidden');\r\n      dispatch({ type: StudyActions.SET_ACTIVE_INDEX, payload: getIndex(currentPage - 1)});\r\n      setTimeout(() => {\r\n         dispatch({ type: StudyActions.CHANGE_STATUS, payload: StudyStatus.START });\r\n      },500);\r\n   }, [totalPage]);\r\n\r\n   const onIntroExit = useCallback(() => {\r\n      gsap.to(introRef.current, 0.3, {opacity: 0, ease: Cubic.easeInOut});\r\n      setTimeout(() => {\r\n         const titleBar = studyRef.current!.querySelector('.title-bar');\r\n         const textCon = titleBar!.querySelector('.text-con');\r\n         const pageCon = titleBar!.querySelector('.page-con');\r\n         gsap.to(titleBar, 0.6, {force3D: true, height: 85, ease: Cubic.easeInOut});\r\n         gsap.from(textCon, 0.6, {force3D: true, y: 50, ease: Cubic.easeInOut});\r\n         gsap.from(pageCon, 0.6, {force3D: true, y: 50, ease: Cubic.easeInOut});\r\n      }, 100);\r\n   }, []);\r\n\r\n   const onIntroExited = useCallback(() => {\r\n      dispatch({ \r\n         type: StudyActions.CHANGE_STATUS, \r\n         payload: StudyStatus.STUDY_START\r\n      });\r\n   }, []);\r\n\r\n   const onPrevPage = useCallback(( e ) => {\r\n      if(currentPage > 0) {\r\n         clickAudio.current!.play();\r\n         setTimeout(()=>{\r\n            dispatch({ type: StudyActions.SET_CURRENT_PAGE, payload: currentPage - 1});\r\n            dispatch({ type: StudyActions.SET_ACTIVE_INDEX, payload: getIndex(currentPage - 2)});\r\n            dispatch({ type: StudyActions.CHANGE_STATUS, payload: StudyStatus.STUDY_TRANSITION });\r\n         });\r\n      }\r\n   },[currentPage, totalPage]);\r\n\r\n   const onNextPage = useCallback(( e ) => {\r\n      if(currentPage < totalPage) {\r\n         clickAudio.current!.play();\r\n         setTimeout(()=>{\r\n            dispatch({ type: StudyActions.SET_CURRENT_PAGE, payload: currentPage + 1});\r\n            dispatch({ type: StudyActions.SET_ACTIVE_INDEX, payload: getIndex(currentPage)});\r\n            dispatch({ type: StudyActions.CHANGE_STATUS, payload: StudyStatus.STUDY_TRANSITION });\r\n         });\r\n      } else {\r\n         let path = '';\r\n         if (window.isTestAPI) {\r\n            path = `/study${type}/history`;\r\n         }\r\n         else {\r\n            let t = type.toLowerCase();\r\n            if(t === 'words') t = 'word';\r\n            path = `/game/${t}/history`;\r\n         }\r\n         if(studyData.reStudy === 0) {\r\n            window.http\r\n            .get(path, { params: {fu_id: studyData.fu_id, play_type: 'L', stage: stage }})\r\n            .then((data) => console.log(data));\r\n         }\r\n         dispatch({ type: StudyActions.CHANGE_STATUS, payload: StudyStatus.RESULT });\r\n      }\r\n   },[currentPage, totalPage]);\r\n   \r\n\r\n   const onResultEnter = useCallback(() => {\r\n      const title = resultRef.current?.querySelector('.good-job') as HTMLDivElement;\r\n      const deco = resultRef.current?.querySelector('.deco') as HTMLDivElement;\r\n      const circle = resultRef.current?.querySelector('.circle') as HTMLDivElement;\r\n      const charactor = resultRef.current?.querySelector('.charactor') as HTMLDivElement;\r\n      const star1 = resultRef.current?.querySelector('.star1') as HTMLDivElement;\r\n      const star2 = resultRef.current?.querySelector('.star2') as HTMLDivElement;\r\n      const star3 = resultRef.current?.querySelector('.star3') as HTMLDivElement;\r\n\r\n      \r\n      removeClass(title, 'hidden');\r\n      removeClass(deco, 'hidden');\r\n      removeClass(circle, 'hidden');\r\n      removeClass(charactor, 'hidden');\r\n     \r\n      \r\n      gsap.set(title!, {opacity: 0, force3D:true, scaleX:0, scaleY: 0});\r\n      gsap.set(deco!, {force3D:true, scaleX: 0.5, scaleY: 0.5, opacity: 0});\r\n      gsap.set(circle!, {opacity: 0, force3D:true, scaleX:0.2, scaleY: 0.2});\r\n      gsap.set(charactor!, {force3D:true, y:300, rotation: -50});\r\n      const btn = resultRef.current?.querySelector('.restudy-btn') as HTMLButtonElement;\r\n      gsap.set(btn!, {opacity: 0});\r\n      let btn2: HTMLButtonElement;\r\n      if(showGameBtn){\r\n         btn2 = resultRef.current?.querySelector('.game-btn') as HTMLButtonElement;\r\n         gsap.set(btn2, {opacity: 0});\r\n      }\r\n      gsap.set(resultRef.current, {opacity: 0});\r\n\r\n      gsap.to(resultRef.current, 0.6, {opacity: 1});\r\n      gsap.to(title!, 0.6, {delay: 0.5, scaleX: 1, scaleY: 1, opacity:1, ease: Back.easeOut.config(2), onComplete: ()=> {\r\n         title!.style.transform = '';\r\n         title!.style.willChange = 'transform';\r\n      }});\r\n      gsap.to(deco!, 1, {delay: 1.2, scaleX: 1, scaleY: 1, opacity:1, ease: Back.easeOut.config(1.5), onComplete: ()=> {\r\n         deco!.style.transform = '';\r\n      }});\r\n      gsap.to(circle!, 0.6, {delay: 0.8, force3D:true, scaleX: 1, scaleY:1, opacity: 1, ease: Back.easeOut.config(2)});\r\n      gsap.to(charactor!, 0.5, {delay: 1.2, force3D:true, y: 0, rotation:0, ease: Back.easeOut.config(1.2), onComplete: ()=>{\r\n         removeClass(btn, 'disable');\r\n         gsap.to(btn!, 0.6, {opacity: 1});\r\n         if(showGameBtn){\r\n            removeClass(btn2, 'disable');\r\n            gsap.to(btn2, 0.6, {opacity: 1});\r\n         }\r\n         gsap.to(charactor!, 0.5, {delay: 0.1, scale: 1.03, repeat: -1, yoyo: true, ease: Linear.easeNone});\r\n      }});\r\n      gsap.set(star1!, {x: 106, y: 7});\r\n      gsap.set(star2!, {x: 67, y: 80});\r\n      gsap.set(star3!, {x: 130, y: 90});\r\n      gsap.to(star1!, 0.6, {delay: 1.2, opacity: 1, x:0, y:0, ease: Back.easeOut.config(2), onComplete: ()=> {\r\n         star1!.style.transform = '';\r\n      }});\r\n      gsap.to(star2!, 0.6, {delay: 1.2, opacity: 1, x:0, y:0, ease: Back.easeOut.config(2), onComplete: ()=> {\r\n         star2!.style.transform = '';\r\n      }});\r\n      gsap.to(star3!, 0.6, {delay: 1.2, opacity: 1, x:0, y:0, ease: Back.easeOut.config(2), onComplete: ()=> {\r\n         star3!.style.transform = '';\r\n      }});\r\n\r\n      goodJobAudio.current!.play();\r\n      clapAudio.current!.play();\r\n   },[]);\r\n\r\n\r\n   const onClickRestudy = useCallback(( e ) => {\r\n      clickAudio.current!.play();\r\n      addClass(resultRef.current?.querySelector('.restudy-btn')?.parentElement, 'disable');\r\n      if(showGameBtn){\r\n         addClass(resultRef.current?.querySelector('.game-btn')?.parentElement, 'disable');\r\n      }\r\n      setTimeout(() => {\r\n         gsap.killTweensOf('*');\r\n         dispatch({ type: StudyActions.RESTART});\r\n      }, 600);\r\n   },[]);\r\n\r\n   const onClickGame = useCallback((e) => {\r\n      clickAudio.current!.play();\r\n      // addClass(resultRef.current?.querySelector('.restudy-btn')?.parentElement, 'disable');\r\n      // addClass(resultRef.current?.querySelector('.game-btn')?.parentElement, 'disable');\r\n      // setTimeout(() => {\r\n         \r\n      // }, 600);\r\n   }, []);\r\n\r\n\r\n   const getContentX = useCallback((idx: number) => {\r\n      const x = (CONTENT_WIDTH + ((window.innerWidth - (CONTENT_WIDTH * window.scale)) / 2)) * idx;\r\n      return x ? x : 0;\r\n   }, []);\r\n\r\n   const getIndex = useCallback(( idx ): number  => {\r\n      let findIdx = 0;\r\n      for(let i = 0; i<indexAr.current.length; i++){\r\n         if(indexAr.current[i] === idx) {\r\n            findIdx = i; \r\n            break;\r\n         }\r\n      }\r\n      return findIdx;\r\n   },[]);\r\n\r\n\r\n   const onResize = useCallback(() => {\r\n      setTimeout(()=> {\r\n         const wrap = document.querySelector('#content-wrap') as HTMLDivElement;\r\n         if(wrap) {\r\n            const left = parseInt(wrap.style.left) * (1/window.scale);\r\n            const width =  window.innerWidth * (1/window.scale);\r\n            if(listRef.current){\r\n               listRef.current.forEach((list, i) => list && (list.style.left=`${getContentX(indexAr.current[i])}px`));\r\n               gsap.set(listConRef.current, {x: -getContentX(prevPage.current-1)});\r\n            }\r\n            if(introRef.current){\r\n               const introBg = introRef.current.querySelector('.bg') as HTMLDivElement;\r\n               introBg.style.width = `${width}px`;\r\n               introBg.style.left = `${-left}px`;\r\n            }\r\n            if(studyRef.current){\r\n               const titleBar = studyRef.current.querySelector('.title-bar') as HTMLDivElement;\r\n               const studyBg = studyRef.current.querySelector('.bg') as HTMLDivElement;\r\n               titleBar.style.width = `${width}px`;\r\n               titleBar.style.left = `${-left}px`;\r\n               studyBg.style.width = `${width}px`;\r\n               studyBg.style.left = `${-left}px`;\r\n            }\r\n            if(resultRef.current){\r\n               const resultBg = resultRef.current.querySelector('.bg') as HTMLDivElement;\r\n               resultBg.style.width = `${width}px`;\r\n               resultBg.style.left = `${-left}px`;\r\n            }\r\n            const exitBtn = document.querySelector('#exit-button') as HTMLDivElement\r\n            exitBtn.style.left = `${900+left}px`;\r\n         }\r\n      }, 2);\r\n   },[]);\r\n\r\n   const onVisibleChange = useCallback(( e ) => {\r\n      if(document.hidden) {\r\n         sound.pauseAll();\r\n      } else {\r\n         sound.resumeAll();\r\n      }\r\n   }, []);\r\n\r\n   const onExitApp = useCallback(( e ) => {\r\n      clickAudio.current!.play();\r\n      window.self.close();\r\n      console.log('ExitApp');\r\n   }, []);\r\n\r\n\r\n   useEffect(() => {\r\n      switch(status) {\r\n         case StudyStatus.STUDY_TRANSITION : \r\n            removeClass(listRef.current[getIndex(currentPage-1)], 'hidden');\r\n            if(prevPage.current > currentPage) {\r\n               removeClass(listRef.current[getIndex(currentPage)], 'hidden');\r\n            } else {\r\n               removeClass(listRef.current[getIndex(currentPage-2)], 'hidden');\r\n            }\r\n            gsap.killTweensOf(listConRef.current);\r\n            gsap.to(listConRef.current, 0.6, {delay:0.03, x: -getContentX(currentPage-1), ease: Power2.easeOut, force3D: true, \r\n               onComplete: () => {\r\n                  listRef.current.forEach((list, i) => {\r\n                     if(getIndex(currentPage-1) !== i){\r\n                        addClass(list, 'hidden')\r\n                     }\r\n                  });\r\n               } \r\n            });\r\n            setTimeout(() => {\r\n               dispatch({ \r\n                  type: StudyActions.CHANGE_STATUS, \r\n                  payload: StudyStatus.STUDY_START\r\n               });\r\n            }, 100);\r\n            prevPage.current = currentPage;\r\n         break;\r\n         case StudyStatus.STUDY_END : \r\n            if(!clearPages.find((x: number) => x === currentPage)) {\r\n               dispatch({type: StudyActions.SET_CLEAR_PAGE, payload: currentPage});\r\n            }\r\n         break;\r\n         case StudyStatus.RESULT : \r\n            onResize();\r\n         break;\r\n         case StudyStatus.RESTART : \r\n            const titleBar = studyRef.current!.querySelector('.title-bar');\r\n            gsap.set(titleBar, {force3D: true, height: 85});\r\n            indexAr.current = makeRandom(totalPage, totalPage);\r\n            prevPage.current = 1;\r\n            removeClass(listRef.current[getIndex(0)], 'hidden');\r\n            onResize();\r\n            dispatch({ type: StudyActions.SET_ACTIVE_INDEX, payload: getIndex(currentPage - 1)});\r\n            setTimeout(() => {\r\n               dispatch({ \r\n                  type: StudyActions.CHANGE_STATUS, \r\n                  payload: StudyStatus.STUDY_START\r\n               });\r\n            }, 10);\r\n         break;\r\n      }\r\n   },[status]);\r\n\r\n\r\n   useEffect(() => {\r\n      window.addEventListener('resize', onResize);\r\n      document.addEventListener('visibilitychange', onVisibleChange);\r\n      onResize();\r\n      return () => {\r\n         window.removeEventListener('resize', onResize);\r\n         document.removeEventListener('visibilitychange', onVisibleChange);\r\n      }\r\n   }, []);\r\n\r\n\r\n   useLayoutEffect(() => {\r\n      clickAudio.current = Sound.from({url: require('../assets/audio/click.mp3').default, preload: true});\r\n      goodJobAudio.current = Sound.from({url: require('../assets/audio/good_job.mp3').default, preload: true});\r\n      clapAudio.current = Sound.from({url: require('../assets/audio/clap.mp3').default, preload: true});\r\n      \r\n      let path = '';\r\n      if (window.isTestAPI) {\r\n         path = `/study${type}`;\r\n      }\r\n      else {\r\n         let t = type.toLowerCase();\r\n         if(t === 'words') t = 'word';\r\n         path = `/game/${t}/study`;\r\n      }\r\n      window.http\r\n      .get(path, {params: { stage: stage, fu_id: getCookie('fu_id'), langCode: getCookie('lang_code') }})\r\n      .then(({ data }) => {\r\n         let payload: any = { stage: stage, studyData: data.data, totalPage: data.data.list.length };\r\n         if(data.data.reStudy !== 0) {\r\n            payload.clearPages = Array.from(Array(data.data.list.length)).map((x,i) => i+1);\r\n         }\r\n         dispatch({ type: StudyActions.INIT, payload: payload});\r\n         dispatch({ type: StudyActions.CHANGE_STATUS, payload: StudyStatus.READY});\r\n      });\r\n   }, []);\r\n\r\n\r\n   if(status === StudyStatus.INIT) {\r\n      return null;\r\n   }\r\n\r\n   return (\r\n      <HelmetProvider>\r\n         <CommonLayout\r\n            contentWidth={CONTENT_WIDTH}\r\n            contentHeight={CONTENT_HEIGHT}>\r\n            <Helmet>\r\n               <title>{title}</title>\r\n            </Helmet>\r\n            <div id=\"content\">\r\n               <Transition  \r\n                  nodeRef={introRef} \r\n                  in={status === StudyStatus.READY}\r\n                  timeout={{exit: 500, appear: 0}}\r\n                  unmountOnExit\r\n                  onExit={onIntroExit}\r\n                  onExited={onIntroExited}>\r\n                  <div id=\"intro\" ref={introRef}>\r\n                     <div className=\"bg\"></div>\r\n                     <div className=\"top-title\">\r\n                        {title} <span>{`STAGE ${stage}`}</span> \r\n                     </div>\r\n\r\n                     <div className=\"intro-area\">\r\n                        <div className=\"area-wrap\">\r\n                           <div className=\"intro-title\" dangerouslySetInnerHTML={{__html: studyData.stageTitle}} />\r\n                           <Ripples color=\"rgba(255,255,255,0.4)\" during={1500}>\r\n                              <button className=\"start-btn\" onClick={onClickStart}>\r\n                                 <img src={require('../assets/images/study/common/start_btn.png').default} />\r\n                              </button>\r\n                           </Ripples>\r\n                        </div>\r\n                     </div>\r\n\r\n                     <div className=\"deco\">\r\n                        <div className=\"left\"></div>\r\n                        <div className=\"right\"></div>\r\n                     </div>\r\n\r\n                     <div className=\"bottom-guide\">\r\n                        <img src={require(`../assets/images/study/${type.toLowerCase()}/notice_${studyData.langCode}.png`).default} />\r\n                     </div>\r\n                  </div>\r\n               </Transition>\r\n\r\n               <Transition  \r\n                  nodeRef={studyRef}\r\n                  in={status !== StudyStatus.RESULT}\r\n                  timeout={{ exit: 1000, appear: 0 }}\r\n                  unmountOnExit>\r\n                  <div ref={studyRef} id=\"study\">\r\n                     <div className=\"bg\"></div>\r\n                     <div className=\"title-bar\">\r\n                        <div className=\"title-wrap\">\r\n                           <div className=\"text-con\">\r\n                              {`STAGE ${stage} : `}<span dangerouslySetInnerHTML={{__html: studyData.stageTitle}}></span>\r\n                           </div>\r\n                           <div className=\"page-con\">\r\n                              <span>{currentPage}</span> / {totalPage}\r\n                           </div>\r\n                        </div>\r\n                     </div>\r\n\r\n                     <div className=\"study-lists\" ref={listConRef}>\r\n                        { studyData.list.map((li: any, i: number) => (\r\n                           <div key={`study-list-${i}`} \r\n                              ref={el => listRef.current[i]=el!}\r\n                              className=\"study-list hidden\"\r\n                              style={{left: getContentX(indexAr.current[i])}}>\r\n                              {studyElem(i+1)}\r\n                           </div>\r\n                        ))}\r\n                     </div>\r\n                     \r\n                     <div className={`page-btns ${status === StudyStatus.STUDY_TRANSITION || status === StudyStatus.RESULT ? 'disable' : ''}`}>\r\n                        <button \r\n                           className={`prev-page-btn ${studyData.reStudy === 0 ? 'hidden': currentPage === 1 ? 'hidden' : ''}`}\r\n                           onClick={onPrevPage}>   \r\n                        </button>\r\n                        <button \r\n                           className={`next-page-btn ${(clearPages.length === 0 || clearPages[clearPages.length-1] < currentPage) ? 'hidden': ''}`}\r\n                           onClick={onNextPage}>   \r\n                        </button>\r\n                     </div>\r\n                  </div>\r\n               </Transition>\r\n\r\n               <Transition  \r\n                  nodeRef={resultRef}\r\n                  in={status === StudyStatus.RESULT}\r\n                  timeout={{ exit: 0, appear: 1000 }}\r\n                  onEnter={onResultEnter}\r\n                  unmountOnExit>\r\n                  <div ref={resultRef} id=\"result\">\r\n                     <div className=\"bg\"></div>\r\n                     <div className=\"good-job hidden\"></div>\r\n                     <div className='deco hidden'></div>\r\n                     <div className=\"circle hidden\"></div>\r\n                     <div className=\"charactor-con\">\r\n                        <div className=\"charactor hidden\"></div>\r\n                     </div>\r\n                     <div className=\"star-con\">\r\n                        <div className=\"star1\"></div>\r\n                        <div className=\"star2\"></div>\r\n                        <div className=\"star3\"></div>\r\n                     </div>\r\n                     <div className=\"bottom-con\">\r\n                        <Ripples color=\"rgba(255,88,0,0.3)\" during={1500}>\r\n                           <button \r\n                              className=\"restudy-btn disable\"\r\n                              onClick={onClickRestudy}>\r\n                              <img src={require(`../assets/images/study/common/restart_${studyData.langCode}.png`).default} />\r\n                           </button>\r\n                        </Ripples>\r\n                        {showGameBtn &&\r\n                           <Ripples color=\"rgba(62,159,221,0.3)\" during={1500}>\r\n                              <button \r\n                                 className=\"game-btn disable\"\r\n                                 onClick={onClickGame}>\r\n                                 <img src={require(`../assets/images/study/common/game_${studyData.langCode}.png`).default} />\r\n                              </button>\r\n                           </Ripples>\r\n                        }\r\n                        \r\n                     </div>\r\n                  </div>\r\n               </Transition>\r\n\r\n               <button id=\"exit-button\"\r\n                  type=\"button\"\r\n                  onClick={onExitApp} />\r\n            </div>\r\n         </CommonLayout>\r\n      </HelmetProvider>\r\n   )\r\n}\r\n\r\nexport default StudyLayout;","import { forwardRef, useCallback, useEffect, useImperativeHandle, useRef, useState } from 'react';\r\nimport { Sound } from '@pixi/sound';\r\n\r\n/*\r\n* @ PROPS\r\n*     src: 오디오 경로\r\n*     left: left 값\r\n*     top: top 값\r\n*     onBeforeClick : 클릭 시 오디오 플레이 전 콜백\r\n*     onAfterClick : 클릭 시 오디오 플레이 이후 콜백\r\n*/\r\nexport interface Props {\r\n   src: string;\r\n   left?: string;\r\n   top?: string;\r\n   onBeforeClick?: () => void;\r\n   onAfterClick?: () => void;\r\n   disabled: boolean;\r\n}\r\n\r\n/*\r\n* @ REFS\r\n*     stop: 오디오가 플레이 중일때 정지\r\n*/\r\nexport interface Refs {\r\n   stop: () => void;\r\n}\r\n\r\nconst AudioButton = forwardRef<Refs, Props>(({ \r\n   src, \r\n   disabled, \r\n   left = '0px', \r\n   top = '0px', \r\n   onBeforeClick, \r\n   onAfterClick \r\n}, ref) => {\r\n\r\n   const [isPlay, setIsPlay] = useState<boolean>(false);\r\n   const audio = useRef<Sound | undefined>(undefined);\r\n   const onBtnClick = useCallback(() => {\r\n      if(!isPlay) {\r\n         if(onBeforeClick) onBeforeClick();\r\n         setIsPlay(true);\r\n         audio.current?.play(() => setIsPlay(false));\r\n         if(onAfterClick) onAfterClick();\r\n      }\r\n   },[onBeforeClick, onAfterClick, isPlay]);\r\n\r\n   useImperativeHandle(ref, () => ({\r\n      stop: () => {\r\n         audio.current?.stop();\r\n         setIsPlay(false);\r\n      }\r\n   }));\r\n\r\n   useEffect(() => {\r\n      if(!disabled) {\r\n         if(audio.current){\r\n            audio.current?.destroy();\r\n            audio.current = undefined;\r\n         }\r\n         audio.current = Sound.from({url: src, preload: true});\r\n         return () => {\r\n            audio.current?.destroy();\r\n            audio.current = undefined;\r\n         }\r\n      }\r\n   }, [disabled]);\r\n\r\n   return (\r\n      <button \r\n         style={{ left, top }}\r\n         className={`audio-button ${!disabled && isPlay ? 'active' : ''} ${disabled ? 'disabled' : ''}`}\r\n         onClick={onBtnClick}> \r\n      </button>\r\n   )\r\n});\r\n\r\nexport default AudioButton;","var map = {\n\t\"./alphabet/_right_deco.png\": 610,\n\t\"./alphabet/left_deco.png\": 611,\n\t\"./alphabet/notice_en_US.png\": 612,\n\t\"./alphabet/notice_ja_JP.png\": 613,\n\t\"./alphabet/notice_ko_KR.png\": 614,\n\t\"./alphabet/notice_zh_CN.png\": 615,\n\t\"./alphabet/notice_zh_HK.png\": 616,\n\t\"./alphabet/notice_zh_TW.png\": 617,\n\t\"./alphabet/quiz_view.png\": 618,\n\t\"./alphabet/quiz_view_blur.png\": 619,\n\t\"./alphabet/quiz_view_on.png\": 620,\n\t\"./alphabet/right_deco.png\": 621,\n\t\"./common/audio_default.png\": 622,\n\t\"./common/audio_off.png\": 623,\n\t\"./common/audio_on.png\": 624,\n\t\"./common/close_btn.png\": 625,\n\t\"./common/game_en_US.png\": 127,\n\t\"./common/game_ja_JP.png\": 128,\n\t\"./common/game_ko_KR.png\": 129,\n\t\"./common/game_zh_CN.png\": 130,\n\t\"./common/game_zh_HK.png\": 131,\n\t\"./common/game_zh_TW.png\": 132,\n\t\"./common/intro_bg.png\": 626,\n\t\"./common/page_next.png\": 627,\n\t\"./common/page_prev.png\": 628,\n\t\"./common/restart_en_US.png\": 133,\n\t\"./common/restart_ja_JP.png\": 134,\n\t\"./common/restart_ko_KR.png\": 135,\n\t\"./common/restart_zh_CN.png\": 136,\n\t\"./common/restart_zh_HK.png\": 137,\n\t\"./common/restart_zh_TW.png\": 138,\n\t\"./common/result_bg.png\": 629,\n\t\"./common/result_charactor.png\": 630,\n\t\"./common/result_circle.png\": 631,\n\t\"./common/result_deco.png\": 632,\n\t\"./common/result_title.png\": 633,\n\t\"./common/star1.png\": 634,\n\t\"./common/star2.png\": 635,\n\t\"./common/star3.png\": 636,\n\t\"./common/start_btn.png\": 139,\n\t\"./common/study_bg.png\": 637,\n\t\"./common/title_bar_bg.png\": 638,\n\t\"./common/top_bg@3x.png\": 639,\n\t\"./letterteams/box_glow.png\": 640,\n\t\"./letterteams/box_line.png\": 641,\n\t\"./letterteams/item_box.png\": 642,\n\t\"./letterteams/left_deco.png\": 643,\n\t\"./letterteams/notice_en_US.png\": 644,\n\t\"./letterteams/notice_ja_JP.png\": 645,\n\t\"./letterteams/notice_ko_KR.png\": 646,\n\t\"./letterteams/notice_zh_CN.png\": 647,\n\t\"./letterteams/notice_zh_HK.png\": 648,\n\t\"./letterteams/notice_zh_TW.png\": 649,\n\t\"./letterteams/right_deco.png\": 650,\n\t\"./letterteams/word_box_bg.png\": 651,\n\t\"./letterteams/word_box_bg_clear.png\": 652,\n\t\"./letterteams/word_box_bg_on.png\": 653,\n\t\"./phonics/left_deco.png\": 654,\n\t\"./phonics/notice_en_US.png\": 655,\n\t\"./phonics/notice_ja_JP.png\": 656,\n\t\"./phonics/notice_ko_KR.png\": 657,\n\t\"./phonics/notice_zh_CN.png\": 658,\n\t\"./phonics/notice_zh_HK.png\": 659,\n\t\"./phonics/notice_zh_TW.png\": 660,\n\t\"./phonics/right_deco.png\": 661,\n\t\"./sightwords/block_back.png\": 662,\n\t\"./sightwords/block_back_on.png\": 663,\n\t\"./sightwords/block_correct_1_blue.png\": 664,\n\t\"./sightwords/block_correct_1_green.png\": 665,\n\t\"./sightwords/block_correct_1_red.png\": 666,\n\t\"./sightwords/block_correct_1_yellow.png\": 667,\n\t\"./sightwords/block_correct_2_blue.png\": 668,\n\t\"./sightwords/block_correct_2_green.png\": 669,\n\t\"./sightwords/block_correct_2_red.png\": 670,\n\t\"./sightwords/block_correct_2_yellow.png\": 671,\n\t\"./sightwords/block_large_1_blue.png\": 672,\n\t\"./sightwords/block_large_1_green.png\": 673,\n\t\"./sightwords/block_large_1_red.png\": 674,\n\t\"./sightwords/block_large_1_yellow.png\": 675,\n\t\"./sightwords/block_large_2_blue.png\": 676,\n\t\"./sightwords/block_large_2_green.png\": 677,\n\t\"./sightwords/block_large_2_red.png\": 678,\n\t\"./sightwords/block_large_2_yellow.png\": 679,\n\t\"./sightwords/block_left_off.png\": 680,\n\t\"./sightwords/block_left_on.png\": 681,\n\t\"./sightwords/block_right_off.png\": 682,\n\t\"./sightwords/block_right_on.png\": 683,\n\t\"./sightwords/block_wrong_1_blue.png\": 684,\n\t\"./sightwords/block_wrong_1_green.png\": 685,\n\t\"./sightwords/block_wrong_1_red.png\": 686,\n\t\"./sightwords/block_wrong_1_yellow.png\": 687,\n\t\"./sightwords/block_wrong_2_blue.png\": 688,\n\t\"./sightwords/block_wrong_2_green.png\": 689,\n\t\"./sightwords/block_wrong_2_red.png\": 690,\n\t\"./sightwords/block_wrong_2_yellow.png\": 691,\n\t\"./sightwords/left_deco.png\": 692,\n\t\"./sightwords/notice_en_US.png\": 693,\n\t\"./sightwords/notice_ja_JP.png\": 694,\n\t\"./sightwords/notice_ko_KR.png\": 695,\n\t\"./sightwords/notice_zh_CN.png\": 696,\n\t\"./sightwords/notice_zh_HK.png\": 697,\n\t\"./sightwords/notice_zh_TW.png\": 698,\n\t\"./sightwords/right_deco.png\": 699,\n\t\"./sightwords/round_glow.png\": 700,\n\t\"./sightwords/star1.png\": 701,\n\t\"./sightwords/star2.png\": 702,\n\t\"./sightwords/star3.png\": 703,\n\t\"./sightwords/star4.png\": 704,\n\t\"./sightwords/star5.png\": 705,\n\t\"./words/Freddy.png\": 706,\n\t\"./words/left_deco.png\": 707,\n\t\"./words/notice_en_US.png\": 708,\n\t\"./words/notice_ja_JP.png\": 709,\n\t\"./words/notice_ko_KR.png\": 710,\n\t\"./words/notice_zh_CN.png\": 711,\n\t\"./words/notice_zh_HK.png\": 712,\n\t\"./words/notice_zh_TW.png\": 713,\n\t\"./words/right_deco.png\": 714,\n\t\"./words/star.png\": 715\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 735;","var map = {\n\t\"./restart_en_US.png\": 133,\n\t\"./restart_ja_JP.png\": 134,\n\t\"./restart_ko_KR.png\": 135,\n\t\"./restart_zh_CN.png\": 136,\n\t\"./restart_zh_HK.png\": 137,\n\t\"./restart_zh_TW.png\": 138\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 736;","var map = {\n\t\"./game_en_US.png\": 127,\n\t\"./game_ja_JP.png\": 128,\n\t\"./game_ko_KR.png\": 129,\n\t\"./game_zh_CN.png\": 130,\n\t\"./game_zh_HK.png\": 131,\n\t\"./game_zh_TW.png\": 132\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 737;","import { FC, ReactElement, useEffect, useRef, useCallback } from \"react\";\r\nimport { addClass, removeClass, distance, elementIndex } from \"../../utils\";\r\nimport { gsap, Cubic } from \"gsap\";\r\nimport { Draggable as GSAPDraggable } from \"gsap/Draggable\";\r\nimport { Sound } from \"@pixi/sound\";\r\n\r\n/*\r\n* @ PROPS\r\n*     areaAr: 드래그 영역 값 배열 \r\n*     dragAr: 드래그 아이텝 값 배열\r\n*     areaElm: 드래그 영역 element\r\n*     dragElm :드래그 아이템 element\r\n*     onCorrect : 드래그 정답 시 콜백\r\n*     onWorng : 드래그 오답 시 콜백\r\n*/\r\nexport interface Props {\r\n   areaAr: string[] | number[];\r\n   dragAr: string[] | number[];\r\n   areaElm?: ReactElement[];\r\n   dragElm?: ReactElement[];\r\n   onDragStart?: ( item: HTMLDivElement ) => void;\r\n   onCorrect?: (item: HTMLDivElement, area: HTMLDivElement) => void;\r\n   onWrong?: (item: HTMLDivElement) => void;\r\n   padding?: number | string;\r\n}\r\n\r\n\r\nconst Draggable: FC<Props> = ({ \r\n   areaAr, \r\n   dragAr, \r\n   areaElm, \r\n   dragElm,\r\n   onDragStart,\r\n   onCorrect,\r\n   onWrong,\r\n   padding \r\n}) => {\r\n\r\n   const dragContainer = useRef<HTMLDivElement>(null);\r\n   const dragItems = useRef<HTMLDivElement[]>([]);\r\n   const dragAreas = useRef<HTMLDivElement[]>([]);\r\n   const draggables = useRef<GSAPDraggable[]>();\r\n   const clickAudio = useRef<Sound>();\r\n\r\n   \r\n\r\n   const checkHitArea = useCallback(( draggable: any, dragItem: HTMLDivElement): [boolean, HTMLDivElement] | null => {\r\n      for(let i=0; i<dragAreas.current.length; i++) {\r\n         var areaItem = dragAreas.current[i];\r\n         if(getComputedStyle(areaItem)['visibility'] === 'hidden' || getComputedStyle(areaItem)['display'] === 'none') continue;\r\n         if(draggable.hitTest(areaItem, padding)){\r\n            if(areaItem.dataset.correct === dragItem.dataset.correct) {\r\n               return [true, areaItem];\r\n            } else {\r\n               return [false, areaItem];\r\n            }\r\n         }\r\n      }\r\n      return null;\r\n   }, []);\r\n\r\n\r\n   const returnDrag = useCallback((traget, dragItem) => {\r\n      const dist = distance(traget.x, traget.y, 0, 0);\r\n      gsap.to(dragItem, dist * 0.002, {\r\n         x:0, y: 0, \r\n         ease:Cubic.easeOut, \r\n         onComplete: ()=>{\r\n            draggables.current!.forEach(draggble => draggble.enable());\r\n         }\r\n      });\r\n   },[]);\r\n\r\n   \r\n   useEffect(() => {\r\n      clickAudio.current = Sound.from({url: require('../../assets/audio/click.mp3').default, preload: true});\r\n      gsap.to(dragItems.current, 0.6, {y: 0, force3D: true, ease: Cubic.easeInOut, onComplete: () => {\r\n         draggables.current = GSAPDraggable.create(dragItems.current, {\r\n            type: 'x,y',\r\n            bounds: '#content',\r\n            onDragStart: function ( e ) {\r\n               const idx = elementIndex(this.target);\r\n               const otherDraggable = draggables.current!.filter((x, i) => i !== idx);\r\n               otherDraggable.forEach(draggble => draggble.disable());\r\n               clickAudio.current!.play();\r\n               if(onDragStart){\r\n                  onDragStart(dragItems.current[idx]);\r\n               }\r\n            },\r\n            onDrag: function ( e ) {\r\n               const idx = elementIndex(this.target);\r\n               const dragItem = dragItems.current[idx];\r\n               const hitArea = checkHitArea(this, dragItem);\r\n               dragAreas.current.forEach(area => removeClass(area, 'hit'));\r\n               if(hitArea) {\r\n                  if(hitArea[1]) {\r\n                     addClass(hitArea[1], 'hit');\r\n                  }\r\n               }\r\n            },\r\n            onDragEnd: function ( e ){\r\n               const idx = elementIndex(this.target);\r\n               const dragItem = dragItems.current[idx];\r\n               this.disable();\r\n               const hitArea = checkHitArea(this, dragItem);\r\n               dragAreas.current.forEach(area => removeClass(area, 'hit'));\r\n               if(hitArea) {\r\n                  if(hitArea[0]) {\r\n                     addClass(dragItem, 'active');\r\n                     addClass(hitArea[1], 'active');\r\n                     draggables.current!.forEach(draggble => draggble.enable());\r\n                     if(onCorrect) {\r\n                        onCorrect(dragItems.current[idx], hitArea[1]);\r\n                     }\r\n                  } else {\r\n                     returnDrag(this, dragItem);\r\n                     if(onWrong) {\r\n                        onWrong(dragItem);\r\n                     }\r\n                  }\r\n               } else {\r\n                  returnDrag(this, dragItem);\r\n               }\r\n            }\r\n         });\r\n      }});\r\n\r\n      return () => {\r\n         gsap.killTweensOf(dragContainer.current);\r\n         draggables.current?.forEach( drag => drag.kill());\r\n      }\r\n   }, []);\r\n\r\n   return (\r\n      <div ref={dragContainer} className=\"draggable\">\r\n         <div className=\"drag-areas\">\r\n            {areaAr.map((correct, i) => (\r\n               <div key={`drag-area-${i}`} \r\n                  ref={ref => ref && (dragAreas.current[i]=ref)}\r\n                  className=\"drag-area\"\r\n                  data-correct={correct}>\r\n                  {areaElm && areaElm[i]}\r\n               </div>\r\n            ))}\r\n         </div>\r\n         <div className=\"drag-items\">\r\n            {dragAr.map((correct, i) => (\r\n               <div key={`drag-item-${i}`} \r\n                  ref={ref => ref && (dragItems.current[i]=ref)}\r\n                  className=\"drag-item\"\r\n                  data-correct={correct}>\r\n                  {dragElm && dragElm[i]}\r\n               </div>\r\n            ))}\r\n         </div>\r\n      </div>\r\n   );\r\n}\r\n\r\nexport default Draggable;"],"sourceRoot":""}