(this["webpackJsonplittle-fox-game"]=this["webpackJsonplittle-fox-game"]||[]).push([[14],{143:function(t,e,n){"use strict";n.r(e),e.default=n.p+"static/media/wrong4.495ef702.mp3"},145:function(t,e,n){},27:function(t,e,n){"use strict";n.r(e);var c,r=n(58),u=n(1),a=n(57),l=n(725),i=n(72),s=n(726),o=n(727),f=n(3),b=n(747),j=n(60),O=n(2),d=function(t){var e=t.syllables,c=t.syllableBox,a=t.onStudyClear,l=t.audioStop,i=Object(u.useState)(),s=Object(r.a)(i,2),o=s[0],d=s[1],p=Object(u.useRef)(),y=Object(u.useRef)(),m=Object(u.useCallback)((function(t,e){x();var n=Object(f.d)(e);Object(f.m)(c[n],"active"),Object(f.a)(c[n],"clear"),p.current.play((function(){e.nextElementSibling?(e.nextElementSibling.style.visibility="visible",Object(f.a)(c[n+1],"active")):a()}))}),[]),T=Object(u.useCallback)((function(t){x(),y.current.play()}),[]),x=Object(u.useCallback)((function(){p.current.stop(),y.current.stop()}),[]);return Object(u.useLayoutEffect)((function(){d(Object(f.i)(0,e.length,e.length))}),[]),Object(u.useEffect)((function(){return Object(f.a)(c[0],"active"),p.current=j.a.from({url:n(148).default,preload:!0}),y.current=j.a.from({url:n(143).default,preload:!0}),function(){var t,e;null===(t=p.current)||void 0===t||t.destroy(),null===(e=y.current)||void 0===e||e.destroy()}}),[]),Object(O.jsx)("div",{className:"letter-teams-quiz",children:o&&Object(O.jsx)(b.a,{areaAr:e.map((function(t){return t.text})),dragAr:o.map((function(t){return e[t].text})),dragElm:o.map((function(t){return Object(O.jsx)("span",{className:"".concat(e[t].isTarget?"target":""),children:e[t].text})})),onDragStart:l,onCorrect:m,onWrong:T,padding:"20%"})})};n(149),n(145);!function(t){t.INIT="INIT",t.INTRO="INTRO",t.START="START"}(c||(c={}));var p=function(t){var e=t.idx,n=(t.stage,Object(a.b)()),l=Object(a.c)((function(t){return t.studyData})),s=Object(a.c)((function(t){return t.status})),b=Object(a.c)((function(t){return t.activeIndex})),p=l.list[e-1],y=Object(u.useState)(c.INIT),m=Object(r.a)(y,2),T=m[0],x=m[1],g=Object(u.useRef)(null),v=Object(u.useRef)([]),h=Object(u.useRef)(),S=Object(u.useRef)([]),I=Object(u.useRef)(),R=Object(u.useCallback)((function(t){var e=p.syllables.findIndex((function(t){return t.isSilent})),n=p.syllables.findIndex((function(t){return t.withSilient})),r=e>-1?p.syllables.length-1:p.syllables.length;t<=r?(v.current.forEach((function(t){return Object(f.m)(t,"playing")})),I.current=setTimeout((function(){t==r?(h.current.play((function(){return R(t+1)})),v.current.forEach((function(t){return Object(f.a)(t,"playing")}))):t===n?(S.current[t].play((function(){return R(t+1)})),Object(f.a)(v.current[t],"playing"),Object(f.a)(v.current[e],"playing")):(S.current[t].play((function(){return R(t+1)})),Object(f.a)(v.current[t],"playing"))}),100)):(v.current.forEach((function(t){return Object(f.m)(t,"playing")})),x(c.START))}),[T,v.current]),N=Object(u.useCallback)((function(){n({type:i.b.CHANGE_STATUS,payload:i.c.STUDY_END})}),[]),E=function(){S.current.forEach((function(t){return t.stop()}))};return Object(u.useEffect)((function(){s===i.c.STUDY_START?(clearTimeout(I.current),e===b+1?I.current=setTimeout((function(){x(c.INTRO)}),500):(x(c.INIT),E(),v.current.forEach((function(t){Object(f.m)(t,"playing"),Object(f.m)(t,"active"),Object(f.m)(t,"clear")})))):s!==i.c.STUDY_TRANSITION&&s!==i.c.RESULT||(clearTimeout(I.current),E())}),[s]),Object(u.useEffect)((function(){T===c.INTRO&&(I.current=setTimeout((function(){S.current[0].play((function(){return R(1)})),Object(f.a)(v.current[0],"playing")}),500))}),[T]),Object(u.useEffect)((function(){h.current=j.a.from({url:p.words.audio,preload:!0}),p.syllables.forEach((function(t,e){t.audio&&(S.current[e]=j.a.from({url:t.audio,preload:!0}))}))}),[]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"quiz-view",children:[Object(O.jsx)("div",{className:"syllable-boxs",children:p.syllables.map((function(t,e){return Object(O.jsx)("div",{ref:function(t){return t&&(v.current[e]=t)},className:"syllable-box ".concat(t.isTarget?"target":""),style:{letterSpacing:3===t.text.length?"-5px":"0px"},children:t.text},"word-".concat(e))}))}),Object(O.jsx)(o.a,{ref:g,left:"14px",top:"11px",src:p.words.audio,disabled:T===c.INIT||T===c.INTRO})]}),T===c.START&&Object(O.jsx)(d,{syllables:p.syllables,syllableBox:v.current,onStudyClear:N,audioStop:function(){var t;return null===(t=g.current)||void 0===t?void 0:t.stop()}})]})};e.default=function(t){var e=t.stage;return Object(O.jsx)("div",{id:"wrap",children:Object(O.jsx)(a.a,{store:l.a,children:Object(O.jsx)(s.a,{title:"Balloon Ride",type:"LetterTeams",stage:e?parseInt(e):1,showGameBtn:!0,studyElem:function(t){return Object(O.jsx)(p,{idx:t,stage:e?parseInt(e):1})}})})})}}}]);
//# sourceMappingURL=14.b0ac1f07.chunk.js.map