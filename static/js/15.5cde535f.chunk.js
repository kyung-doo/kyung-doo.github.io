(this["webpackJsonplittle-fox-game"]=this["webpackJsonplittle-fox-game"]||[]).push([[15],{143:function(e,t,r){"use strict";r.r(t),t.default=r.p+"static/media/wrong4.495ef702.mp3"},146:function(e,t,r){},28:function(e,t,r){"use strict";r.r(t);var c,n=r(58),u=r(1),a=r(57),i=r(725),o=r(72),l=r(726),s=r(727),b=r(3),j=r(747),d=r(60),f=r(2),O=function(e){var t=e.words,c=e.wordBox,a=e.onStudyClear,i=e.audioStop,o=Object(u.useState)(),l=Object(n.a)(o,2),s=l[0],O=l[1],p=Object(u.useRef)(),m=Object(u.useRef)(),x=Object(u.useCallback)((function(e,t){T();var r=Object(b.d)(t);Object(b.m)(c[r],"active"),Object(b.a)(c[r],"clear"),p.current.play((function(){t.nextElementSibling?(t.nextElementSibling.style.display="block",Object(b.a)(c[r+1],"active")):a()}))}),[]),g=Object(u.useCallback)((function(e){T(),m.current.play()}),[]),T=Object(u.useCallback)((function(){p.current.stop(),m.current.stop()}),[]);return Object(u.useLayoutEffect)((function(){O(Object(b.h)(t.length,t.length))}),[]),Object(u.useEffect)((function(){return Object(b.a)(c[0],"active"),p.current=d.a.from({url:r(148).default,preload:!0}),m.current=d.a.from({url:r(143).default,preload:!0}),function(){var e,t;null===(e=p.current)||void 0===e||e.destroy(),null===(t=m.current)||void 0===t||t.destroy()}}),[]),Object(f.jsx)("div",{className:"phonics-quiz",children:s&&Object(f.jsx)(j.a,{areaAr:t,dragAr:s.map((function(e){return t[e]})),dragElm:s.map((function(e){return Object(f.jsx)("span",{children:t[e]})})),onDragStart:i,onCorrect:x,onWrong:g})})};r(149),r(146);!function(e){e.INIT="INIT",e.INTRO="INTRO",e.START="START"}(c||(c={}));var p=function(e){var t=e.idx,r=Object(a.b)(),i=Object(a.c)((function(e){return e.studyData})),l=Object(a.c)((function(e){return e.status})),j=Object(a.c)((function(e){return e.activeIndex})),p=i.list[t-1],m=Object(u.useState)(c.INIT),x=Object(n.a)(m,2),g=x[0],T=x[1],y=Object(u.useRef)(null),h=Object(u.useRef)([]),v=Object(u.useRef)([]),S=Object(u.useRef)(),N=Object(u.useCallback)((function(e){e<4?(Object(b.m)(h.current[0],"playing"),Object(b.m)(h.current[1],"playing"),Object(b.m)(h.current[2],"playing"),S.current=setTimeout((function(){v.current[e+1].play((function(){return N(e+1)})),0===e?Object(b.a)(h.current[1],"playing"):1===e?Object(b.a)(h.current[2],"playing"):2===e?(Object(b.a)(h.current[1],"playing"),Object(b.a)(h.current[2],"playing")):(Object(b.a)(h.current[0],"playing"),Object(b.a)(h.current[1],"playing"),Object(b.a)(h.current[2],"playing"))}),100)):(T(c.START),Object(b.m)(h.current[0],"playing"),Object(b.m)(h.current[1],"playing"),Object(b.m)(h.current[2],"playing"))}),[g,h.current]),w=Object(u.useCallback)((function(){r({type:o.b.CHANGE_STATUS,payload:o.c.STUDY_END})}),[]),I=function(){v.current.forEach((function(e){return e.stop()}))};return Object(u.useEffect)((function(){l===o.c.STUDY_START?(clearTimeout(S.current),t===j+1?S.current=setTimeout((function(){T(c.INTRO)}),500):(T(c.INIT),I(),h.current.forEach((function(e){Object(b.m)(e,"playing"),Object(b.m)(e,"active"),Object(b.m)(e,"clear")})))):l!==o.c.STUDY_TRANSITION&&l!==o.c.RESULT||(clearTimeout(S.current),I())}),[l]),Object(u.useEffect)((function(){g===c.INTRO&&(S.current=setTimeout((function(){v.current[0].play((function(){return N(0)})),Object(b.a)(h.current[0],"playing")}),500))}),[g]),Object(u.useEffect)((function(){v.current[0]=d.a.from({url:p.audio1,preload:!0}),v.current[1]=d.a.from({url:p.audio2,preload:!0}),v.current[2]=d.a.from({url:p.audio3,preload:!0}),v.current[3]=d.a.from({url:p.audio4,preload:!0}),v.current[4]=d.a.from({url:p.audio6,preload:!0})}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"quiz-view",children:[Object(f.jsx)("div",{className:"image",children:Object(f.jsx)("img",{src:p.image})}),Object(f.jsxs)("div",{className:"word-boxs",children:[Object(f.jsx)("div",{ref:function(e){return e&&(h.current[0]=e)},className:"word-box box1",children:Object(f.jsx)("span",{children:p.word[0]})}),Object(f.jsx)("div",{ref:function(e){return e&&(h.current[1]=e)},className:"word-box box2",children:Object(f.jsx)("span",{children:p.word[1]})}),Object(f.jsx)("div",{ref:function(e){return e&&(h.current[2]=e)},className:"word-box box3",children:Object(f.jsx)("span",{children:p.word[2]})})]}),Object(f.jsx)(s.a,{ref:y,left:"21px",top:"18px",src:p.audio5,disabled:g===c.INIT||g===c.INTRO})]}),g===c.START&&Object(f.jsx)(O,{words:[p.word[0],p.word[1],p.word[2]],wordBox:h.current,onStudyClear:w,audioStop:function(){var e;return null===(e=y.current)||void 0===e?void 0:e.stop()}})]})};t.default=function(e){var t=e.stage;return Object(f.jsx)("div",{id:"wrap",children:Object(f.jsx)(a.a,{store:i.a,children:Object(f.jsx)(l.a,{title:"Phonics Golden Shooting",type:"Phonics",stage:t?parseInt(t):1,studyElem:function(e){return Object(f.jsx)(p,{idx:e})}})})})}}}]);
//# sourceMappingURL=15.5cde535f.chunk.js.map